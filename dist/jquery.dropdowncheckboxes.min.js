/*
 *  jQuery dropdowncheckboxes - v0.0.2
 *  An easy-to-use dropdown checkbox jQuery plugin
 *  https://github.com/zealzhangz/jquery-dropdowncheckboxes
 *
 *  Made by zealzhangz/zealzhangz@gmail.com
 *  Under MIT License
 */
if("undefined"==typeof jQuery)throw new Error("jquery-confirm requires jQuery");!function(a){function b(b,c){this.element=b,this.settings=a.extend({},d,c),this.initial()}var c="dropdowncheckboxes",d={targetId:"",mode:"auto",isAjax:!0,changeCallback:void 0,saveClickCallback:void 0,options:[{text:"Option1",name:"myOption1",id:"_myOption1",isChecked:1},{text:"Option2",name:"myOption2",id:"_myOption2",isChecked:0}],template:'<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Dropdown<span class="caret"></span></button>',btnCleatText:"Clear",btnSaveText:"Save"};b.prototype={initial:function(){var a=this;a.renderDropdown(a.settings.options)},renderDropdown:function(b){var c=this,d=a(c.element),e="";e+=c.settings.template,e+='<ul class="dropdown-menu scrollbar">';for(var f=0;f<b.length;f++)e+='<li><label><input name="'+b[f].name+'" type="checkbox" id="'+b[f].id,e+=1===b[f].isChecked?'" checked>':'">',e+=" <a>"+b[f].text+"</a></label></li>";"button"===c.settings.mode&&(e+='<li class="text-center li-button">',e+='<button type="button" id="dropdown-btn-clear" class="btn btn-xs btn-default btn-clear" value="Clear">'+c.settings.btnCleatText+"</button>",e+='<button type="button" id="dropdown-btn-save" class="btn btn-xs btn-default btn-save" value="Save">'+c.settings.btnSaveText+"</button>",e+="</li>"),e+="</ul>",d.html(e);var g=c.settings.targetId+" input:checkbox";"auto"===c.settings.mode?(c.settings.changeCallback.call(this,c.getAllBoxes()),a(g).on("change",function(){var b={};a.isFunction(c.settings.changeCallback)?(b=c.getAllBoxes(),c.settings.changeCallback.call(this,b)):console.log("Change callback function is invalided.")})):"button"===c.settings.mode&&(c.settings.saveClickCallback.call(this,c.getAllBoxes()),a("#dropdown-btn-clear").on("click",function(){var b=c.settings.targetId+" input:checkbox:checked";a(b).prop("checked",!1)}),a("#dropdown-btn-save").on("click",function(){var b={};a.isFunction(c.settings.saveClickCallback)?(b=c.getAllBoxes(),c.settings.saveClickCallback.call(this,b),a('[data-toggle="dropdown"]').parent().removeClass("open")):console.log("Save callback function is invalided.")})),d.find(".dropdown-menu").click(function(a){a.stopPropagation()})},getAllBoxes:function(){var b=this,c=b.settings.targetId+" input:checkbox",d=[];return a(c).each(function(){d.push(a(this))}),d}},a.fn[c]=function(d){var e=this;return e.each(function(){a.data(e,"plugin_"+c)||a.data(e,"plugin_"+c,new b(this,d))}),e}}(jQuery);